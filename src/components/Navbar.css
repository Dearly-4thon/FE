:root{
  --navbar-bg:#fff4cc;
  --navbar-border:#ffe680;

  --text:#1E3A8A;
  --text-active:#1E3A8A;

  --navbar-height:72px;
  --max-app-width: var(--app-width, 393px);

  --safe-bottom: env(safe-area-inset-bottom, 0px);
}

/* ▾ 화면 하단 고정, 컨테이너 폭 = min(100vw, maxW) */
.navbar{
  position: fixed;
  bottom: 0;
  left: 50%;
  transform: translateX(-50%);
  width: min(100vw, var(--max-app-width));
  z-index: 9999;               /* 최상단으로 올림 */
  background: var(--navbar-bg);
  border-top: 1px solid var(--navbar-border);
  border-radius: 12px 12px 0 0;
  box-shadow: var(--navbar-shadow);
  -webkit-tap-highlight-color: transparent;
  overflow: clip;
  pointer-events: auto;        /* 클릭 허용 */
}

/* 내부 라인: 실제 버튼 라인 높이는 고정, 아래에 safe-area 패딩 */
.navbar-inner{
  width: 100%;
  height: var(--navbar-height);
  padding: 0 5px;
  padding-bottom: var(--safe-bottom);
  display: flex;
  justify-content: space-around;
  align-items: center;
  pointer-events: auto;
}

/* 아이템 */
.nav-item{
  flex: 1 1 0;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: 100%;
  background: transparent;
  border: 0;
  padding: 6px 4px;
  cursor: pointer;
  color: var(--text);
  text-decoration: none;
  -webkit-tap-highlight-color: transparent;
}
.nav-item.active{ opacity:1; color:var(--text-active); }
.nav-item:focus-visible{ outline: 2px solid rgba(30,58,138,0.12); outline-offset: 4px; border-radius:8px; }

.nav-icon{ width:22px; height:22px; stroke-width:2; pointer-events: none; }
.nav-label{ font-size:10px; font-weight:600; letter-spacing:.2px; line-height:1; }

.nav-item:active .nav-icon{ transform:translateY(-1px) scale(1.05); }
.nav-item.active .nav-icon{ transform:translateY(-1px) scale(1.06); }

/* 매우 좁은 화면 보정 */
@media (max-width: 340px){
  .nav-label{ font-size:11px; }
}

/* 다크 모드 톤 조정(선택) */
@media (prefers-color-scheme: dark){
  .navbar{ box-shadow: 0 -6px 24px rgba(0,0,0,.25); }
  .nav-item{ opacity: .72; }
  .nav-item.active{ opacity: 1; }
}

/* 모션 최소화 사용자 */
@media (prefers-reduced-motion: reduce){
  .nav-item, .nav-item .nav-icon{ transition: none !important; }
}

/* 혹시 ::before / ::after 로 전화면 오버레이 깔아놨으면 높이 제한 */
.navbar::before, .navbar::after {
  pointer-events: none;
  /* height / inset 값이 내용만 덮도록 되어 있는지 확인 */
}

.nav-icon {
  filter: invert(22%) sepia(34%) saturate(2000%) hue-rotate(205deg) brightness(92%) contrast(90%);
  opacity: 0.5;  /* 비활성 투명도 */
  transition: opacity 0.2s ease, filter 0.2s ease;
}

.nav-item.active .nav-icon {
  opacity: 1; /* 활성: 불투명 */
  filter: invert(22%) sepia(34%) saturate(2000%) hue-rotate(205deg) brightness(92%) contrast(90%);
}

:root{
  --navbar-bg:#fff4cc;
  --navbar-border:#ffe680;

  --text:#1E3A8A;
  --text-active:#1E3A8A;

  --navbar-height:72px;
  --max-app-width: var(--app-width, 393px);

  --safe-bottom: env(safe-area-inset-bottom, 0px);
}

/* ▾ 화면 하단 고정, 완전 반응형 - 강제 적용 */
.navbar{
  position: fixed !important;
  bottom: 0 !important;
  left: 0 !important;
  right: 0 !important;
  margin: 0 !important;
  padding: 0 !important;
  
  width: auto !important;
  max-width: none !important;
  min-width: auto !important;
  
  /* 변형 초기화 */
  transform: none !important;
  z-index: 1000;
  background: var(--navbar-bg);
  border-top: 1px solid var(--navbar-border);
  /* border-radius: 12px 12px 0 0; */  /* 둥근 효과 제거 */
  box-shadow: var(--navbar-shadow);
  -webkit-tap-highlight-color: transparent;
  overflow: clip;
}

/* 내부 라인: 실제 버튼 라인 높이는 고정,
   아래에 세이프에어리어 패딩 */
.navbar-inner{
  width: 100%;
  height: var(--navbar-height);
  padding: 0 5px;
  padding-bottom: var(--safe-bottom); /* 세이프 에어리어 */
  display: flex;
  justify-content: space-around;
  align-items: center;
}

/* 아이템 */
.nav-item{
  text-decoration:none;
  color:var(--text);
  display:flex; flex-direction:column; align-items:center; justify-content:center;
  gap:6px;
  opacity:.55;
  transition:opacity .18s ease, transform .12s ease;
  -webkit-tap-highlight-color:transparent;
  padding:10px 0;

  min-width:64px;   /* 터치 목표 폭 */
  min-height:44px;  /* iOS 권장 터치 높이 */
  outline: none;
}
.nav-item.active{ opacity:1; color:var(--text-active); }
.nav-item:focus-visible{
  outline:2px solid rgba(30,58,138,.25);
  outline-offset:4px; border-radius:10px;
}

.nav-icon{ width:22px; height:22px; stroke-width:2; }
.nav-label{ font-size:10px; font-weight:600; letter-spacing:.2px; line-height:1; }

.nav-item:active .nav-icon{ transform:translateY(-1px) scale(1.05); }
.nav-item.active .nav-icon{ transform:translateY(-1px) scale(1.06); }

/* 매우 좁은 화면 보정 */
@media (max-width: 340px){
  .nav-label{ font-size:11px; }
}

/* 다크 모드 톤 조정(선택) */
@media (prefers-color-scheme: dark){
  .navbar{ box-shadow: 0 -6px 24px rgba(0,0,0,.25); }
  .nav-item{ opacity: .72; }
  .nav-item.active{ opacity: 1; }
}

/* 모션 최소화 사용자 */
@media (prefers-reduced-motion: reduce){
  .nav-item, .nav-item .nav-icon{ transition: none !important; }
}

.navbar {
  z-index: 50;     /* 허브(200)보다 낮게 */
  height: 78px;    /* 혹시 100vh 같은 실수 방지 */
  /* position: fixed; bottom:0; left:50%; transform:translateX(-50%); ... */
}

/* 혹시 ::before / ::after 로 전화면 오버레이 깔아놨으면 높이 제한 */
.navbar::before, .navbar::after {
  pointer-events: none;
  /* height / inset 값이 내용만 덮도록 되어 있는지 확인 */
}
